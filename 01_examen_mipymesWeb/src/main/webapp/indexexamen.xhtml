<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<f:facet name="first">
		<meta name="viewport"
			content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
		<title>Examen</title>
	</f:facet>
</h:head>
<body>
	<p:growl>
		<p:autoUpdate />
	</p:growl>

	<h:form id="form-menu">
		<p:menubar style="background-color: #5DADE2;">
			<p:menuitem value="Regresar" icon="fa fa-arrow-circle-left"
				outcome="indexexamen?faces-redirect=true">
				<f:param name="i" value="0" />
			</p:menuitem>
			<p:menuitem value="Inicio" outcome="indexexamen" icon="fa fa-home">
				<f:param name="i" value="1" />
			</p:menuitem>
			<p:menuitem value="Inicio" outcome="equipos" icon="fa fa-home">
				<f:param name="i" value="1" />
			</p:menuitem>

		</p:menubar>
	</h:form>

	<h:form id="equipo">
		<div class="card" align="center">
			<p:splitter layout="vertical">
				<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
					<p:panelGrid columns="3" styleClass="ui-noborder">
						<p:outputLabel for="@next" value="Selecionar Equipo: "
							style="font-weight:bold" />
						<p:selectOneMenu value="#{beanExamen.id_equipo}"
							style="width:350px" panelStyle="width:180px" effect="fade"
							filter="true" filterMatchMode="startsWith">
							<f:selectItems value="#{beanExamen.listaEquipos}" var="equipos"
								itemLabel="#{equipos.nombreEquipo}"
								itemValue="#{equipos.idEquipo}">
								<p:column style="width:10%">
									<span class="flag flag-#{equipos.nombreEquipo}"
										style="width: 30px; height: 20px" />
								</p:column>
								<p:column>
									<f:facet name="header">
										<h:outputText value="Name" />
									</f:facet>
									<h:outputText value="#{equipos.nombreEquipo}" />
								</p:column>

							</f:selectItems>
							<f:facet name="footer">
								<h:outputText
									value="#{beanExamen.listaEquipos.size()} Equipos Encontrados"
									style="font-weight:bold;" styleClass="p-py-1 p-d-block" />
							</f:facet>
						</p:selectOneMenu>
						<p:commandButton value="Agregar Nuevo equipo"
							onclick="PF('nuevoEquipo').show()"
							styleClass="rounded-button ui-button-success" icon="fa fa-plus" />
						<p:dialog header="Nuevo Equipo" widgetVar="nuevoEquipo"
							minHeight="40" width="350" showEffect="fade">
							<div align="center">
								<p:panelGrid columns="2" styleClass="ui-noborder">
									<p:outputLabel for="@next" value="Nombre Equipo: "
										style="font-weight:bold" />
									<p:inputText value="#{beanExamen.equipo.nombreEquipo}"
										placeholder="FC Name Team" required="true"
										requiredMessage="Ingrese el nombre del equipo!"></p:inputText>
									<p:outputLabel for="@next" value="Fecha Equipo: "
										style="font-weight:bold" />
									<p:datePicker value="#{beanExamen.equipo.fecha}"
										required="true" requiredMessage="Ingrese la fecha!"
										placeholder="FC Name Team"></p:datePicker>

								</p:panelGrid>
								<p:panelGrid columns="2" styleClass="ui-noborder">
									<p:commandButton value="Salir" icon="fa fa-close"
										onclick="PF('nuevoEquipo').hide()"
										styleClass="rounded-button ui-button-danger"
										style="width: 6rem" />
									<p:commandButton value="Guardar" icon="fa fa-save"
										style="width: 6rem" onclick="PF('nuevoEquipo').show()"
										styleClass="rounded-button ui-button-help"
										actionListener="#{beanExamen.actionListenerInsertarEquipo()}" />
								</p:panelGrid>
							</div>
						</p:dialog>
					</p:panelGrid>
				</p:splitterPanel>
			</p:splitter>
		</div>
	</h:form>
	<h:form id="agregar">
		<div align="center">
			<p:splitter>
				<p:splitterPanel>
					<p:splitter layout="vertical">
						<p:splitterPanel>
							<p:splitter>
								<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
									<p:panelGrid columns="2" styleClass="ui-noborder">
										<p:outputLabel value="ID Jugador: " style="font-weight:bold"></p:outputLabel>
										<p:inputText type="buttom"
											value="#{beanExamen.jugador.idJugador}"
											placeholder="1001562812001"></p:inputText>
										<p:outputLabel value="Nombres: " style="font-weight:bold"></p:outputLabel>
										<p:inputText value="#{beanExamen.jugador.nombres}"
											placeholder="Mario Andres"></p:inputText>
									</p:panelGrid>
								</p:splitterPanel>
								<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
									<p:panelGrid columns="2" styleClass="ui-noborder">
										<p:outputLabel value="Apellidos: " style="font-weight:bold"></p:outputLabel>
										<p:inputText value="#{beanExamen.jugador.apellidos}"
											placeholder="SalazarAnrango"></p:inputText>
										<p:outputLabel value="Valor Jugador:" style="font-weight:bold"></p:outputLabel>
										<p:spinner id="g" placeholder="3" buttons="horizontal-after"
											stepFactor="0.01" min="10000"
											value="#{beanExamen.jugador.valorJugador}" required="true"
											requiredMessage="Ingrese la valor de los jugadores!">
											<p:tooltip for="g" value="Ingrese la valor de los jugadores!"
												position="bottom" />
										</p:spinner>
									</p:panelGrid>
								</p:splitterPanel>
								<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
									<p:panelGrid columns="2" styleClass="ui-noborder">
										<p:outputLabel value="Posicion Juego: "
											style="font-weight:bold"></p:outputLabel>
										<p:selectOneMenu value="#{beanExamen.id_pos}"
											style="width:350px" panelStyle="width:180px" effect="fade"
											filter="true" filterMatchMode="startsWith">
											<f:selectItems value="#{beanExamen.listaPosicionJuegos}"
												var="p" itemLabel="#{p.nombrePosicion}"
												itemValue="#{p.idPosicion}">
												<p:column style="width:10%">
													<span class="flag flag-#{p.nombrePosicion}"
														style="width: 30px; height: 20px" />
												</p:column>
												<p:column>
													<f:facet name="header">
														<h:outputText value="Name" />
													</f:facet>
													<h:outputText value="#{p.nombrePosicion}" />
												</p:column>

											</f:selectItems>
											<f:facet name="footer">
												<h:outputText
													value="#{beanExamen.listaPosicionJuegos.size()} Posicion Juegos Encontrados"
													style="font-weight:bold;" styleClass="p-py-1 p-d-block" />
											</f:facet>
										</p:selectOneMenu>
										<p:outputLabel value="Dorsal: " style="font-weight:bold"></p:outputLabel>
										<p:spinner id="h" placeholder="3" buttons="horizontal-after"
											stepFactor="1" min="1" max="99"
											value="#{beanExamen.jugador.dorsal}" required="true"
											requiredMessage="Ingrese la dorsal del los jugador!">
											<p:tooltip for="h" value="Ingrese la dorsal del los jugador!"
												position="bottom" />
										</p:spinner>
									</p:panelGrid>
								</p:splitterPanel>
							</p:splitter>

						</p:splitterPanel>

					</p:splitter>
				</p:splitterPanel>
			</p:splitter>
			<p:commandButton value="Guardar Jugador" icon="fa fa-save"
				styleClass="rounded-button ui-button-success" update="j"
				actionListener="#{beanExamen.actionListenerInsertarJugador()}"></p:commandButton>
			<p:splitter layout="vertical">
				<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
					<p:panelGrid columns="3" styleClass="ui-noborder">
						<p:outputLabel for="@next" value="Selecionar el Jugador: "
							style="font-weight:bold" />
						<p:selectOneMenu value="#{beanExamen.id_jugador}" id="j"
							style="width:350px" panelStyle="width:180px" effect="fade"
							filter="true" filterMatchMode="startsWith">
							<f:selectItems value="#{beanExamen.listaJugadors}" var="j"
								itemLabel="#{j.nombres}" itemValue="#{j.idJugador}">
								<p:column style="width:10%">
									<span class="flag flag-#{j.nombres}"
										style="width: 30px; height: 20px" />
								</p:column>
								<p:column>
									<f:facet name="header">
										<h:outputText value="Name" />
									</f:facet>
									<h:outputText value="#{j.nombres}" />
								</p:column>

							</f:selectItems>
							<f:facet name="footer">
								<h:outputText
									value="#{beanExamen.listaJugadors.size()} Equipos Encontrados"
									style="font-weight:bold;" styleClass="p-py-1 p-d-block" />
							</f:facet>
						</p:selectOneMenu>
						<p:commandButton value="Agregar Jugador"
							actionListener="#{beanExamen.actionListenerAgregarJugador()}"
							update="d:,valor_total"
							styleClass="rounded-button ui-button-success" icon="fa fa-plus" />

					</p:panelGrid>
				</p:splitterPanel>
			</p:splitter>
			<p:splitter>
				<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center"
					size="180">
					<div align="center">
						<p:dataTable value="#{beanExamen.listaDetalleEquipos}" id="d"
							stripedRows="true" var="detalle" paginator="true" reflow="true"
							rows="7" style="font-size: 12px" paginatorPosition="bottom"
							rowIndexVar="index">
							<p:column headerText="COD" style="width:80px">
								<h:outputText value="#{detalle.jugadorBean.idJugador}" />
							</p:column>
							<p:column headerText="NOMBRES" style="width:150px">
								<h:outputText value="#{detalle.jugadorBean.nombres}" />
							</p:column>

							<p:column headerText="APELlIDOS" style="width: 150px">
								<h:outputText value="#{detalle.jugadorBean.apellidos}" />
							</p:column>
							<p:column headerText="VALOR JUGADOR" style="width: 50px">
								<h:outputText value="#{detalle.jugadorBean.valorJugador}" />
							</p:column>

							<p:column headerText="DORSAL">
								<h:outputText value="#{detalle.jugadorBean.dorsal}" />
							</p:column>


							<p:column headerText="POSICION JUEGO">
								<h:outputText
									value="#{detalle.jugadorBean.posicionJuegoBean.nombrePosicion}" />
							</p:column>

							<p:column headerText="Opciones">
								<p:commandButton icon="fa fa-edit"
									onclick="PF('editarJugador').show()"
									update=":editar:editar-Jugador"
									oncomplete="PF('editarJugador').show()"
									actionListener="#{beanExamen.seleccionarJugador(detalle.jugadorBean.idJugador)}"
									styleClass="rounded-button ui-button-success">
									<p:resetInput target=":editar:editar-Jugador" />
								</p:commandButton>

								<p:commandButton icon="fa fa-trash"
									actionListener="#{beanExamen.actionListenerEliminarDetalle(index)}"
									update="agregar" styleClass="rounded-button ui-button-danger" />
							</p:column>
						</p:dataTable>
					</div>
				</p:splitterPanel>
				<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center"
					size="50">
					<p:panel header="Avaluo Total Equipo">
						<p:panelGrid columns="2" styleClass="ui-noborder">

							<p:outputLabel value="TOTAL EQUIPO: "
								style="font-weight:bold; font-size:22px; color: blue"></p:outputLabel>
							<p:outputLabel value="#{beanExamen.valor_equipo}"
								id="valor_total"
								style="font-weight:bold; font-size:22px; color: blue"></p:outputLabel>
						</p:panelGrid>

					</p:panel>
					<p:panel header="">

						<p:panelGrid columns="2" styleClass="ui-noborder">
							<p:commandButton value="Guardar" update="@form,:agregar"
								styleClass="ui-button-raised ui-button-success"
								icon="fa fa-check"
								actionListener="#{beanExamen.actionListenerGuardarEquipo()}" />
							<p:commandButton value="Cancelar"
								styleClass="ui-button-raised ui-button-danger"
								icon="fa fa-times" />
						</p:panelGrid>
					</p:panel>
					<p:panel header="">
						<div align="center">
							<p:staticMessage severity="warn"
								summary="¡La forma de cobro se realiza de contado o a crédito siempre y cuando el cliente no tenga deudas con la empresa!"></p:staticMessage>
						</div>
					</p:panel>
				</p:splitterPanel>
			</p:splitter>
		</div>
	</h:form>
	<h:form id="editar">
		<p:dialog header="Editar Jugador" widgetVar="editarJugador"
			width="1500" showEffect="fade">
			<p:outputPanel id="editar-Jugador">
				<p:splitter>
					<p:splitterPanel>
						<p:splitter layout="vertical">
							<p:splitterPanel>
								<p:splitter>
									<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
										<p:panelGrid columns="2" styleClass="ui-noborder">
											<p:outputLabel value="ID Jugador: " style="font-weight:bold"></p:outputLabel>
											<p:inputText type="buttom"
												value="#{beanExamen.jugadorActualizar.idJugador}"
												placeholder="1001562812001"></p:inputText>
											<p:outputLabel value="Nombres: " style="font-weight:bold"></p:outputLabel>
											<p:inputText value="#{beanExamen.jugadorActualizar.nombres}"
												placeholder="Mario Andres"></p:inputText>
										</p:panelGrid>
									</p:splitterPanel>
									<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
										<p:panelGrid columns="2" styleClass="ui-noborder">
											<p:outputLabel value="Apellidos: " style="font-weight:bold"></p:outputLabel>
											<p:inputText
												value="#{beanExamen.jugadorActualizar.apellidos}"
												placeholder="SalazarAnrango"></p:inputText>
											<p:outputLabel value="Valor Jugador:"
												style="font-weight:bold"></p:outputLabel>
											<p:spinner id="g" placeholder="3" buttons="horizontal-after"
												stepFactor="0.01" min="10000"
												value="#{beanExamen.jugadorActualizar.valorJugador}"
												required="true"
												requiredMessage="Ingrese la valor de los jugadores!">
												<p:tooltip for="g"
													value="Ingrese la valor de los jugadores!"
													position="bottom" />
											</p:spinner>
										</p:panelGrid>
									</p:splitterPanel>
									<p:splitterPanel styleClass="p-d-flex p-ai-center p-jc-center">
										<p:panelGrid columns="2" styleClass="ui-noborder">
											<p:outputLabel value="Posicion Juego: "
												style="font-weight:bold"></p:outputLabel>
											<p:selectOneMenu value="#{beanExamen.id_pos}"
												style="width:200px" panelStyle="width:180px" effect="fade"
												filter="true" filterMatchMode="startsWith">
												<f:selectItems value="#{beanExamen.listaPosicionJuegos}"
													var="p" itemLabel="#{p.nombrePosicion}"
													itemValue="#{p.idPosicion}">
													<p:column style="width:10%">
														<span class="flag flag-#{p.nombrePosicion}"
															style="width: 30px; height: 20px" />
													</p:column>
													<p:column>
														<f:facet name="header">
															<h:outputText value="Name" />
														</f:facet>
														<h:outputText value="#{p.nombrePosicion}" />
													</p:column>

												</f:selectItems>
												<f:facet name="footer">
													<h:outputText
														value="#{beanExamen.listaPosicionJuegos.size()} Posicion Juegos Encontrados"
														style="font-weight:bold;" styleClass="p-py-1 p-d-block" />
												</f:facet>
											</p:selectOneMenu>
											<p:outputLabel value="Dorsal: " style="font-weight:bold"></p:outputLabel>
											<p:spinner id="h" placeholder="3" buttons="horizontal-after"
												stepFactor="1" min="1" max="99"
												value="#{beanExamen.jugadorActualizar.dorsal}"
												required="true"
												requiredMessage="Ingrese la dorsal del los jugador!">
												<p:tooltip for="h"
													value="Ingrese la dorsal del los jugador!"
													position="bottom" />
											</p:spinner>
										</p:panelGrid>
									</p:splitterPanel>
								</p:splitter>

							</p:splitterPanel>

						</p:splitter>
					</p:splitterPanel>
				</p:splitter>
				<div align="center">
					<p:commandButton value="Cancelar"
						onclick="PF('editarJugador').hide()" update="agregar"
						icon="fa fa-times-circle" style="width: 8rem"
						styleClass="rounded-button ui-button-danger" />
					<p:commandButton value="Editar" update="agregar"
						icon="fa fa-check-square" style="width: 8rem"
						onclick="PF('editarJugador').hide()"
						actionListener="#{beanExamen.actionListenerActualizarJugador()}"
						styleClass="rounded-button ui-button-success" />
				</div>
			</p:outputPanel>
		</p:dialog>

	</h:form>
</body>
</html>
